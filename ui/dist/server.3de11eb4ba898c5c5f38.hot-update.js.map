{"version":3,"sources":["webpack:///./src/IssueDetail.jsx","webpack:///./src/IssueList.jsx","webpack:///./src/IssueTable.jsx"],"names":["IssueDetail","issue","description","SECTION_SIZE","PageLink","params","page","activePage","children","set","React","cloneElement","disabled","search","toString","IssueList","Component","constructor","initialData","store","issueList","issues","pages","selectedIssue","state","closeIssue","bind","deleteIssue","componentDidMount","loadData","componentDidUpdate","prevProps","location","prevSearch","match","id","prevId","props","fetchData","showError","URLSearchParams","vars","hasSelection","selectedId","get","status","effortMin","parseInt","Number","isNaN","effortMax","idInt","query","data","graphQLFetch","index","setState","prevState","newList","issueUpdate","pathname","history","showSuccess","issueDelete","push","splice","render","startPage","Math","floor","endPage","prevSection","nextSection","items","i","min","IssueListWithToast","withToast","IssueRow","withRouter","selectLocation","closeTooltip","editTooltip","deleteTooltip","onClose","e","preventDefault","onDelete","tableRow","owner","created","toDateString","effort","due","title","IssueTable","issueRows","map"],"mappings":"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","file":"server.3de11eb4ba898c5c5f38.hot-update.js","sourcesContent":["import React from 'react';\n\nexport default function IssueDetail({ issue }) {\n  if (issue) {\n    return (\n      <div>\n        <h3>Description</h3>\n        <pre>{issue.description}</pre>\n      </div>\n    );\n  }\n  return null;\n}\n\n/*\nimport graphQLFetch from './graphQLFetch.js';\nimport Toast from './Toast.jsx';\n\nexport default class IssueDetail extends React.Component {\n  constructor() {\n    super();\n    this.state = { \n      issue: {},\n      toastVisible: false,\n      toastMessage: '',\n      toastType: 'info' };\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { match: { params: { id: prevId } } } = prevProps;\n    const { match: { params: { id } } } = this.props;\n    if (prevId !== id) {\n      this.loadData();\n    }\n  }\n\n  showError(message) {\n    this.setState({\n      toastVisible: true, toastMessage: message, toastType: 'danger',\n    });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  async loadData() {\n    const { match: { params: { id } } } = this.props;\n    const query = `query issue($id: Int!) {\n      issue (id: $id) {\n        id description\n      }\n    }`;\n\n    const data = await graphQLFetch(query, { id: parseInt(id, 10) }, this.showError);\n    if (data) {\n      this.setState({ issue: data.issue });\n    } else {\n      this.setState({ issue: {} });\n    }\n  }\n\n  render() {\n    const { issue: { description } } = this.state;\n    const { toastVisible, toastType, toastMessage } = this.state;\n    return (\n      <div>\n        <h3>Description</h3>\n        <pre>{description}</pre>\n        <Toast showing={toastVisible} onDismiss={this.dismissToast} bsStyle={toastType}>\n          {toastMessage}\n        </Toast>\n      </div>\n    );\n  }\n}\n*/","import React from 'react';\n\nimport IssueFilter from './IssueFilter.jsx';\nimport IssueTable from './IssueTable.jsx';\nimport IssueDetail from './IssueDetail.jsx';\n\nimport graphQLFetch from './graphQLFetch.js';\nimport Toast from './Toast.jsx';\nimport URLSearchParams from 'url-search-params';\nimport { Panel, Pagination } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport store from './store.js';\nimport withToast from './withToast.jsx';\n\nconst SECTION_SIZE = 5;\n\nfunction PageLink({params, page, activePage, children,}) {\n    params.set('page', page);\n    if (page === 0) return React.cloneElement(children, { disabled: true });\n    return (\n        <LinkContainer\n            isActive={() => page === activePage}\n            to={{ search: `?${params.toString()}` }}\n            >\n                {children}\n            </LinkContainer>\n    )\n}\n\n{/**parent */}\n{/**you should be able to use double quotes in the title of a newly added issue without causing any errors. */}\nclass IssueList extends React.Component { \n    constructor() {\n        super();\n        const initialData = store.initialData || { issueList: {} };\n        const {\n            issueList: { issues, pages }, issue: selectedIssue,\n        } = initialData;\n        delete store.initialData;\n        this.state = { issues,\n                       selectedIssue,\n                       pages,\n                       };\n        {/**to make this always refer to IssueList, otherwise, this.state would be undefined */}\n        this.closeIssue = this.closeIssue.bind(this);\n        this.deleteIssue = this.deleteIssue.bind(this);\n    }\n\n    componentDidMount() {\n        const { issues } = this.state;\n        if (issues == null) this.loadData();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { location: { search: prevSearch }, match: { params: {id: prevId }} } = prevProps;\n        const { location: { search }, match: {params:{id}} } = this.props;\n        if (prevSearch !== search || prevId !== id) {\n            this.loadData();\n        }\n    }\n\n    static async fetchData(match, search, showError) {\n        const params = new URLSearchParams(search);\n        const vars = { hasSelection: false, selectedId: 0 };\n        if (params.get('status')) vars.status = params.get('status');\n\n        const effortMin = parseInt(params.get('effortMin'), 10);\n        if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\n        const effortMax = parseInt(params.get('effortMax'), 10);\n        if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\n\n        const { params: {id} } = match;\n        const idInt = parseInt(id, 10);\n        if (!Number.isNaN(idInt)) {\n            vars.hasSelection= true;\n            vars.selectedId = idInt;\n        }\n\n        let page = parseInt(params.get('page'), 10);\n        if (Number.isNaN(page)) page = 1;\n        vars.page = page;\n\n        const query = `query issueList(\n            $status: StatusType\n            $effortMin: Int\n            $effortMax: Int\n            $hasSelection: Boolean!\n            $selectedId: Int!\n            $page: Int\n        ) {\n          issueList (\n              status: $status\n              effortMin: $effortMin\n              effortMax: $effortMax\n              page: $page\n          ) {\n              issues {\n                id title status owner\n                created effort due\n              }\n              pages\n          }\n          issue(id: $selectedId) @include (if : $hasSelection) {\n              id description\n          }\n        }`;\n    \n        const data = await graphQLFetch(query,vars,showError);\n        return data;\n      }\n\n    async closeIssue(index) {\n        const query = `mutation issueClose($id: Int!) {\n            issueUpdate(id:$id, changes: { status: Closed }) {\n                id title status owner effort\n                created due description\n            }\n        }`;\n        const { issues } = this.state;\n        const { showError } = this.props;\n        const data = await graphQLFetch(query, { id: issues[index].id }, showError);\n        if (data) {\n            this.setState((prevState) => {\n                const newList = [...prevState.issues];\n                newList[index] = data.issueUpdate;\n                return { issues: newList };\n            });\n        } else {\n            this.loadData();\n        }\n    }\n\n    async deleteIssue(index) {\n        const query = `mutation issueDelete($id: Int!) {\n            issueDelete(id: $id)\n        }`;\n        const { issues } = this.state;\n        const { location: { pathname,search }, history } = this.props;\n        const { id } = issues[index];\n        const { showSuccess, showError } = this.props;\n        const data = await graphQLFetch(query, {id}, showError);\n        if (data && data.issueDelete) {\n            this.setState((prevState) => {\n                const newList = [...prevState.issues];\n                if (pathname === `/issues/${id}`) {\n                    history.push({ pathname: '/issues', search });\n                }\n                newList.splice(index, 1);\n                return { issues: newList };\n            });\n            showSuccess(`Deleted issue ${id} successfully.`);\n        } else {\n            this.loadData();\n        }\n    }\n\n    async loadData() {\n        const { location: {search}, match, showError } = this.props;\n        const data = await IssueList.fetchData(match, search, showError);\n        if (data) {\n            this.setState({ issues: data.issueList.issues, selectedIssue: data.issue, pages: data.issueList.pages, });\n        }\n    }\n\n    render() {\n        const { issues } = this.state;\n        if (issues == null) return null;\n        const { selectedIssue, pages } = this.state;\n        const { location: {search}} = this.props;\n\n        const params = new URLSearchParams(search);\n        let page = parseInt(params.get('page'),10);\n        if (Number.isNaN(page)) page = 1;\n\n        const startPage = Math.floor((page - 1)/ SECTION_SIZE) * SECTION_SIZE + 1;\n        const endPage = startPage + SECTION_SIZE - 1;\n        const prevSection = startPage === 1 ? 0 : startPage - SECTION_SIZE;\n        const nextSection = endPage >= pages ? 0 : startPage + SECTION_SIZE;\n\n        const items = [];\n        for (let i = startPage; i <= Math.min(endPage,pages); i += 1) { \n            params.set('page', i);\n            items.push((\n                <PageLink key={i} params={params} activePage={page} page={i}>\n                    <Pagination.Item>{i}</Pagination.Item>\n                </PageLink>\n            ));\n        }\n\n        return (\n            <React.Fragment>\n                <Panel>\n                    <Panel.Heading>\n                        <Panel.Title toggle>Filter</Panel.Title>\n                    </Panel.Heading>\n                    <Panel.Body collapsible>\n                        <IssueFilter urlBase=\"/issues\" />\n                    </Panel.Body>\n                </Panel>\n                <hr />\n                <IssueTable issues={issues} closeIssue={this.closeIssue} deleteIssue={this.deleteIssue} />\n                {/** let’s use the path as matched in the parent component, using this.props.match.path. This is so that even if the parent path changes for any reason, the change is isolated to one place. */}\n                <IssueDetail issue={selectedIssue} /> \n                <Pagination>\n                    <PageLink params={params} page={prevSection}>\n                        <Pagination.Item>{'<'}</Pagination.Item>\n                    </PageLink>\n                    {items}\n                    <PageLink params={params} page={nextSection}>\n                        <Pagination.Item>{'>'}</Pagination.Item>\n                    </PageLink>\n                </Pagination>\n            </React.Fragment>\n        );\n    }\n}\n\nconst IssueListWithToast = withToast(IssueList);\nIssueListWithToast.fetchData = IssueList.fetchData; //copy the reference of the component’s static methods to the wrapped component too, to make it visible.\n\nexport default IssueListWithToast;","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport {\n  Button, Glyphicon, Tooltip, OverlayTrigger, Table,\n} from 'react-bootstrap';\n\nconst IssueRow = withRouter(({ issue, location: { search }, closeIssue, deleteIssue, index }) => {\n    const selectLocation = { pathname: `/issues/${issue.id}`, search };\n    const closeTooltip = (\n      <Tooltip id=\"close-tooltip\" placement=\"top\">Close Issue</Tooltip>\n    );\n    const editTooltip = (\n      <Tooltip id=\"close-tooltip\" placement=\"top\">Edit Issue</Tooltip>\n    );\n    const deleteTooltip = (\n      <Tooltip id=\"delete-tooltip\" placement=\"top\">Delete Issue</Tooltip>\n    );\n    function onClose(e) {\n      e.preventDefault();\n      closeIssue(index);\n    }\n    function onDelete(e) {\n      e.preventDefault();\n      deleteIssue(index);\n    }\nconst tableRow = (\n      <tr>\n        <td>{issue.id}</td>\n        <td>{issue.status}</td>\n        <td>{issue.owner}</td>\n        <td>{issue.created.toDateString()}</td>\n        <td>{issue.effort}</td>\n        <td>{issue.due ? issue.due.toDateString() : ''}</td>\n        <td>{issue.title}</td>\n        <td>\n          <LinkContainer to={`/edit/${issue.id}`}>\n            <OverlayTrigger delayShow={1000} overlay={editTooltip}>\n              <Button bsSize=\"xsmall\">\n                <Glyphicon glyph=\"edit\" />\n              </Button>\n            </OverlayTrigger>\n          </LinkContainer>\n          {' '}\n          <OverlayTrigger delayShow={1000} overlay={closeTooltip}>\n            <Button bsSize=\"xsmall\" onClick={onClose}>\n              <Glyphicon glyph=\"remove\" />\n            </Button>\n          </OverlayTrigger>\n          {' '}\n          <OverlayTrigger delayShow={1000} overlay={deleteTooltip}>\n            <Button bsSize=\"xsmall\" onClick={onDelete}>\n              <Glyphicon glyph=\"trash\" />\n            </Button>\n          </OverlayTrigger>\n        </td>\n      </tr>\n    );\n    return (\n      <LinkContainer to={selectLocation}>\n        {tableRow}\n      </LinkContainer>\n    );\n  });\n\nexport default function IssueTable({ issues, closeIssue, deleteIssue }) {\n    const issueRows = issues.map((issue,index) => (\n        <IssueRow key={issue.id} issue={issue} closeIssue={closeIssue} deleteIssue={deleteIssue} index={index} />\n    ));\n\n    return (\n        <Table bordered condensed hover responsive>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Status</th>\n                    <th>Owner</th>\n                    <th>Created</th>\n                    <th>Effort</th>\n                    <th>Due Date</th>\n                    <th>Title</th>\n                    <th>Action</th>\n                </tr>\n            </thead>\n            <tbody>\n                {issueRows}\n            </tbody>\n        </Table>\n    );\n}\n"],"sourceRoot":""}